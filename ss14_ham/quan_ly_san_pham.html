<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Quản lý sản phẩm</h1>
    <h4>Add new product</h4>
    <input type="text" placeholder="New Product" id="product" onclick="addProduct()">
    <button onclick="addProduct()">Add</button><br><br>
    <span>Số lượng: </span><span id="soLuong"></span>
    <h4>Display All Product</h4>
    <div id="result"></div>
    
    <script>
        let productList = ["Sony Xperia", "Samsung Galaxy", "Nokia6", "Xiaomi Redmi Note 4", "Apple Iphone 16", "Oppo A71"];
        display(productList);
        function display(list){
            let tableString = `<table border="1" class="border-collapse: collapse">
                                    <tr>
                                        <th>ID</th>
                                        <th>Product Name</th>
                                        <th>Edit</th>
                                        <th>Delete</th>
                                    </tr> `;
            for(let i = 0; i<list.length; i++){
                tableString += `<tr>
                                    <td>${i+1}</td>
                                    <td>${list[i]}</td>
                                    <td><button onclick="editProduct(${i})">Edit</button></td>
                                    <td><button onclick="deleteProduct(${i})">Delete</button></td>
                                </tr>`;
            }
            document.getElementById("result").innerHTML = tableString;
            document.getElementById("soLuong").innerHTML = productList.length;
        }
        function editProduct(index){
            let editProduct = prompt(productList[index]+".Nhập vào tên cần sửa");
            productList[index]= editProduct;
            display(productList);
        }
        function deleteProduct(index){
            let conf = confirm("Bạn có muốn xoá sản phẩm " + productList[index] + " này không?");
            if (conf) {
                productList.splice(index, 1);
                display(productList);
            }
        }
        function addProduct() {
            let newProduct = document.getElementById("product").value.trim();
            if (newProduct) {
                productList.push(newProduct);
                display(productList);
                document.getElementById("product").value = "";
            } 
        }
    </script>
</body>
</html>